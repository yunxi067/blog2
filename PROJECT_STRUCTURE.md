# é¡¹ç›®ç»“æ„æ¦‚è§ˆ

## ğŸ“ ç›®å½•ç»“æ„

```
blog-system/
â”œâ”€â”€ ğŸ“„ README.md                    # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ ğŸ“„ start.sh                     # Linux/Macå¯åŠ¨è„šæœ¬
â”œâ”€â”€ ğŸ“„ start.bat                    # Windowså¯åŠ¨è„šæœ¬
â”œâ”€â”€ ğŸ“„ pom.xml                     # Mavené…ç½®æ–‡ä»¶
â”œâ”€â”€ ğŸ“„ .gitignore                  # Gitå¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ ğŸ“ src/
â”‚   â”œâ”€â”€ ğŸ“ main/
â”‚   â”‚   â”œâ”€â”€ ğŸ“ java/
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“ com/itzhihao/blog/
â”‚   â”‚   â”‚       â”œâ”€â”€ ğŸ“ controller/     # æ§åˆ¶å™¨å±‚
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“„ UserController.java
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“„ FileController.java
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“„ DownloadController.java
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“„ SpaceApplyController.java
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“„ AdminController.java
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“„ HotController.java
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“„ FollowAndNotificationController.java
â”‚   â”‚   â”‚       â”‚   â””â”€â”€ ğŸ“„ IndexController.java
â”‚   â”‚   â”‚       â”œâ”€â”€ ğŸ“ service/        # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“„ UserService.java
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“„ SpaceService.java
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“„ FileService.java
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“„ SpaceApplyService.java
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“„ FollowService.java
â”‚   â”‚   â”‚       â”‚   â””â”€â”€ ğŸ“„ NotificationService.java
â”‚   â”‚   â”‚       â”œâ”€â”€ ğŸ“ mapper/         # MyBatisæ˜ å°„å™¨æ¥å£
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“„ UserMapper.java
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“„ SpaceMapper.java
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“„ FileMapper.java
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“„ SpaceApplyMapper.java
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“„ FollowMapper.java
â”‚   â”‚   â”‚       â”‚   â””â”€â”€ ğŸ“„ NotificationMapper.java
â”‚   â”‚   â”‚       â”œâ”€â”€ ğŸ“ entity/         # å®ä½“ç±»
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“„ User.java
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“„ Space.java
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“„ FileInfo.java
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“„ SpaceApply.java
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“„ Follow.java
â”‚   â”‚   â”‚       â”‚   â””â”€â”€ ğŸ“„ Notification.java
â”‚   â”‚   â”‚       â”œâ”€â”€ ğŸ“ common/         # é€šç”¨ç±»
â”‚   â”‚   â”‚       â”‚   â””â”€â”€ ğŸ“„ Result.java
â”‚   â”‚   â”‚       â”œâ”€â”€ ğŸ“ util/           # å·¥å…·ç±»
â”‚   â”‚   â”‚       â”‚   â””â”€â”€ ğŸ“„ SessionUtil.java
â”‚   â”‚   â”‚       â””â”€â”€ ğŸ“ interceptor/    # æ‹¦æˆªå™¨
â”‚   â”‚   â”‚           â””â”€â”€ ğŸ“„ AuthInterceptor.java
â”‚   â”‚   â”œâ”€â”€ ğŸ“ resources/
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ mapper/             # MyBatis XMLæ˜ å°„æ–‡ä»¶
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ UserMapper.xml
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ SpaceMapper.xml
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ FileMapper.xml
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ SpaceApplyMapper.xml
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ FollowMapper.xml
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ NotificationMapper.xml
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ db.properties        # æ•°æ®åº“é…ç½®
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ mybatis-config.xml   # MyBatisé…ç½®
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ init.sql            # æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
â”‚   â”‚   â””â”€â”€ ğŸ“ webapp/
â”‚   â”‚       â”œâ”€â”€ ğŸ“ WEB-INF/
â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“ views/           # JSPé¡µé¢
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ ğŸ“„ index.jsp
â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“„ spring-mvc.xml    # SpringMVCé…ç½®
â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“„ spring-mybatis.xml # Spring+MyBatisé…ç½®
â”‚   â”‚       â”‚   â””â”€â”€ ğŸ“„ web.xml          # Webåº”ç”¨é…ç½®
â”‚   â”‚       â”œâ”€â”€ ğŸ“ js/                 # JavaScriptæ–‡ä»¶
â”‚   â”‚       â”‚   â””â”€â”€ ğŸ“„ main.js
â”‚   â”‚       â””â”€â”€ ğŸ“ uploads/            # æ–‡ä»¶ä¸Šä¼ ç›®å½•
â”‚   â””â”€â”€ ğŸ“ test/
â”‚       â””â”€â”€ ğŸ“ java/
â”‚           â””â”€â”€ ğŸ“ com/itzhihao/blog/
â”‚               â”œâ”€â”€ ğŸ“ config/
â”‚               â”‚   â””â”€â”€ ğŸ“„ TestConfig.java
â”‚               â””â”€â”€ ğŸ“ test/
â”‚                   â””â”€â”€ ğŸ“„ UserServiceTest.java
â””â”€â”€ ğŸ“ target/                        # Mavenæ„å»ºè¾“å‡ºç›®å½•
```

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

### 1. ç”¨æˆ·ç®¡ç†æ¨¡å— (UserController)
- âœ… ç”¨æˆ·æ³¨å†Œï¼ˆè‡ªåŠ¨åˆ›å»ºç©ºé—´ï¼‰
- âœ… ç”¨æˆ·ç™»å½•/é€€å‡º
- âœ… ç”¨æˆ·ä¿¡æ¯ç®¡ç†
- âœ… è§’è‰²æƒé™æ§åˆ¶

### 2. æ–‡ä»¶ç®¡ç†æ¨¡å— (FileController)
- âœ… æ–‡ä»¶ä¸Šä¼ ï¼ˆæ”¯æŒå¤šç§ç±»å‹ï¼‰
- âœ… æ–‡ä»¶åˆ—è¡¨å±•ç¤º
- âœ… æ–‡ä»¶ä¸‹è½½ï¼ˆæƒé™æ£€æŸ¥ï¼‰
- âœ… æ–‡ä»¶åˆ é™¤/é‡å‘½å
- âœ… æ–‡ä»¶åˆ†ç±»ç®¡ç†

### 3. ç©ºé—´ç®¡ç†æ¨¡å— (SpaceService)
- âœ… ç©ºé—´å®¹é‡ç®¡ç†
- âœ… ç©ºé—´ä½¿ç”¨ç»Ÿè®¡
- âœ… æ‰©å®¹ç”³è¯·æµç¨‹
- âœ… ç©ºé—´çŠ¶æ€æ§åˆ¶

### 4. ç®¡ç†åå°æ¨¡å— (AdminController)
- âœ… ç”¨æˆ·ç®¡ç†ï¼ˆå†»ç»“/è§£å†»ï¼‰
- âœ… æ–‡ä»¶ç®¡ç†ï¼ˆå®¡æ ¸/åˆ é™¤ï¼‰
- âœ… æ‰©å®¹ç”³è¯·å®¡æ‰¹
- âœ… ç³»ç»Ÿç»Ÿè®¡ä¿¡æ¯

### 5. ç¤¾äº¤åŠŸèƒ½æ¨¡å—
- âœ… å…³æ³¨/å–æ¶ˆå…³æ³¨
- âœ… é€šçŸ¥ç³»ç»Ÿ
- âœ… çƒ­é—¨æ’è¡Œæ¦œ

### 6. å®‰å…¨æ¨¡å—
- âœ… ç™»å½•æ‹¦æˆªå™¨
- âœ… æƒé™éªŒè¯
- âœ… æ–‡ä»¶è®¿é—®æ§åˆ¶

## ğŸ—„ï¸ æ•°æ®åº“è®¾è®¡

### æ ¸å¿ƒè¡¨ç»“æ„
- **user** - ç”¨æˆ·ä¿¡æ¯è¡¨
- **space** - ç”¨æˆ·ç©ºé—´è¡¨
- **file_info** - æ–‡ä»¶ä¿¡æ¯è¡¨
- **space_apply** - æ‰©å®¹ç”³è¯·è¡¨
- **follow** - å…³æ³¨å…³ç³»è¡¨
- **notification** - é€šçŸ¥è¡¨

## ğŸ”§ æŠ€æœ¯æ ˆ

### åç«¯æŠ€æœ¯
- **SpringMVC 6.1.5** - Webæ¡†æ¶
- **MyBatis 3.5.15** - ORMæ¡†æ¶
- **MySQL 8.0** - æ•°æ®åº“
- **Druid 1.2.20** - è¿æ¥æ± 
- **Jackson 2.17.0** - JSONå¤„ç†
- **Commons FileUpload** - æ–‡ä»¶ä¸Šä¼ 

### å‰ç«¯æŠ€æœ¯
- **Bootstrap 5** - UIæ¡†æ¶
- **JSP** - è§†å›¾æŠ€æœ¯
- **JavaScript ES6+** - å‰ç«¯é€»è¾‘
- **Bootstrap Icons** - å›¾æ ‡åº“

### å¼€å‘å·¥å…·
- **Maven** - é¡¹ç›®ç®¡ç†
- **JUnit 5** - å•å…ƒæµ‹è¯•
- **Lombok** - ä»£ç ç®€åŒ–

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡
```bash
# æ£€æŸ¥Javaç‰ˆæœ¬
java -version

# æ£€æŸ¥Mavenç‰ˆæœ¬
mvn -version

# å¯åŠ¨MySQLæœåŠ¡
sudo systemctl start mysql
```

### 2. æ•°æ®åº“åˆå§‹åŒ–
```sql
-- åˆ›å»ºæ•°æ®åº“å¹¶æ‰§è¡Œåˆå§‹åŒ–è„šæœ¬
mysql -u root -p < src/main/resources/init.sql
```

### 3. é…ç½®ä¿®æ”¹
ç¼–è¾‘ `src/main/resources/db.properties`ï¼š
```properties
db.url=jdbc:mysql://localhost:3306/blog_system?useSSL=false&serverTimezone=Asia/Shanghai&characterEncoding=UTF-8
db.username=your_username
db.password=your_password
```

### 4. æ„å»ºéƒ¨ç½²
```bash
# Linux/Mac
./start.sh

# Windows
start.bat

# æˆ–æ‰‹åŠ¨æ„å»º
mvn clean package
```

### 5. éƒ¨ç½²åˆ°Tomcat
1. å¤åˆ¶ `target/demo.war` åˆ°Tomcatçš„ `webapps` ç›®å½•
2. å¯åŠ¨Tomcat
3. è®¿é—® `http://localhost:8080/demo/`

## ğŸ“‹ ç³»ç»Ÿç‰¹æ€§

### âœ… å·²å®ç°åŠŸèƒ½
- ğŸ” å®Œæ•´çš„ç”¨æˆ·è®¤è¯ç³»ç»Ÿ
- ğŸ“ æ–‡ä»¶ä¸Šä¼ ä¸‹è½½ç®¡ç†
- ğŸ’¾ ç©ºé—´å®¹é‡ç®¡ç†
- ğŸ“ˆ æ‰©å®¹ç”³è¯·æµç¨‹
- ğŸ‘¥ ç®¡ç†å‘˜åå°
- ğŸ”” é€šçŸ¥ç³»ç»Ÿ
- ğŸ‘¤ å…³æ³¨åŠŸèƒ½
- ğŸ† çƒ­é—¨æ’è¡Œæ¦œ
- ğŸ›¡ï¸ å®‰å…¨æ‹¦æˆªå™¨
- ğŸ“Š ç»Ÿè®¡ä¿¡æ¯

### ğŸš§ å¾…å®Œå–„åŠŸèƒ½
- ğŸ“§ é‚®ä»¶é€šçŸ¥
- ğŸ–¼ï¸ åœ¨çº¿é¢„è§ˆ
- ğŸ”— æ–‡ä»¶åˆ†äº«
- ğŸ“± ç§»åŠ¨ç«¯é€‚é…
- ğŸ” é«˜çº§æœç´¢
- ğŸ“Š è¯¦ç»†ç»Ÿè®¡æŠ¥è¡¨

## ğŸ”’ å®‰å…¨ç‰¹æ€§

- **å¯†ç åŠ å¯†**: MD5åŠ å¯†å­˜å‚¨
- **Sessionç®¡ç†**: åŸºäºSessionçš„ç”¨æˆ·çŠ¶æ€ç®¡ç†
- **æƒé™æ§åˆ¶**: è§’è‰²åŸºç¡€çš„è®¿é—®æ§åˆ¶
- **æ–‡ä»¶å®‰å…¨**: æ–‡ä»¶è®¿é—®æƒé™éªŒè¯
- **SQLé˜²æ³¨å…¥**: MyBatisé¢„ç¼–è¯‘è¯­å¥
- **XSSé˜²æŠ¤**: å‰ç«¯è¾“å…¥éªŒè¯

## ğŸ“ è”ç³»ä¿¡æ¯

- **é¡¹ç›®ä½œè€…**: itzhihao
- **æŠ€æœ¯æ ˆ**: SpringMVC + MyBatis + MySQL
- **éƒ¨ç½²æ–¹å¼**: WARåŒ…éƒ¨ç½²åˆ°Tomcat